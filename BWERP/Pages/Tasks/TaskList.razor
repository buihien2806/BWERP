@page "/tasks/tasklist"
<h3>TaskList</h3>

@if (taskViewRequests == null)
{
	<p class="spinner"></p>
}
else
{
	@*<div class="row">
		<EditForm Model="@TaskListSearch" OnSubmit="@SearchForm">
			<div class="row">
				<div class="col-auto">
					<label class="form-label">Name</label>
					<InputText class="form-control" @bind-Value="@TaskListSearch.Name"></InputText>
				</div>
				<div class="col-auto">
					<label class="form-label">Assignee</label>
					<InputSelect class="form-select" @bind-Value="@TaskListSearch.UserId">
						<option>--Select--</option>
						@foreach (var assignee in assigneeLists)
						{
							<option value="@assignee.UserId">@assignee.UserName</option>
						}
					</InputSelect>
				</div>
				<div class="col-auto">
					<label class="form-label">Priority</label>
					<InputSelect class="form-select" @bind-Value="@TaskListSearch.Priority">
						<option>--Select--</option>
						@foreach (var item in Enum.GetNames(typeof(Priority)))
						{
							<option value="@item">@item</option>
						}
					</InputSelect>
				</div>
				<div class="col pt-4">
					<button type="submit" class="btn btn-success">Search</button>
					<a href="/tasks/taskcreate" class="btn btn-primary">Create</a>
				</div>
			</div>
		</EditForm>
	</div>*@
	<div class="row mt-4">
		<table class="table">
			<thead>
				<tr>
					<th>Name</th>
					<th>Priority</th>
					<th>Assignee</th>
					<th>Date</th>
					<th>Status</th>
					<th></th>
				</tr>
			</thead>
			<tbody>
				@foreach (var item in taskViewRequests)
				{
					<tr>
						<td>@item.Name</td>
						<td>@item.Priority</td>
						<td>@item.AssigneeId</td>
						<td>@item.CreatedDate.ToString("dd/MM/yyy hh:mm")</td>
						<td>@item.Status</td>
						<td>
							<a href="/tasks/taskdetail/@item.Id" class="btn btn-primary">Detail</a>
							<a href="/tasks/taskedit/@item.Id" class="btn btn-warning">Edit</a>
@*							<button class="btn btn-danger" @onclick="()=> OnDeleteTask(item.Id)">Delete</button>
*@						</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
	@*<Confirmation ConfirmationMessage="Are you sure to delete?"
			  ConfirmationTitle="Delete Task"
			  @ref="DeleteConfirmation"
			  ConfirmationChanged="OnConfirmDeleteTask"></Confirmation>*@
}
